#include <iostream>
#include <algorithm>

using namespace std;
long long arr[100001], a[100001], s1[100001], s2[100001];
int main()
{
	long long n;
	cin >> n;

	for (int i = 0; i < n; i++)
	{
		cin >> a[i];
		arr[i] = a[i];
	}
	sort(a, a + n);
	s1[0] = 0;
	s2[0] = 0;

	for (int i = 1; i <= n; i++)
	{
		s1[i] = s1[i - 1] + arr[i - 1];
		s2[i] = s2[i - 1] + a[i - 1];
	}


	long long  q, l, r, t;
	cin >> q;
	while (q--)
	{
		cin >> t >> l >> r;

		if (t == 1)
			cout << s1[r] - s1[l - 1] << endl;
		else
			cout << s2[r] - s2[l - 1] << endl;

	}

	//system("pause");
}
